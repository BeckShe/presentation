<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>注册 Service Worker</title>
</head>

<body>
  <p id="status">等待注册结果……</p>

  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('service-worker.js', { scope: '/' })
        .then(function (registration) {
          document.querySelector('#status').textContent = 'succeeded';
        }).catch(function (error) {
          document.querySelector('#status').textContent = error;
        });
    } else {
      // The current browser doesn't support service workers.
      let aElement = document.createElement('a');
      aElement.href = `http://www.chromium.org/blink/serviceworker/service-worker-faq`;
      aElement.textContent = 'unavailable';
      document.querySelector('#status').appendChild(aElement);
    }
  </script>
</body>

</html>
